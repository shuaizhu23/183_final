[[extend 'layout.html']]

<style>
  [v-cloak] {display: none;}
  .hidden {display:none;}
  .outline-icon {
    text-shadow: 0px 0px 3px #219CEF;
    color: white;
  }
  .genshin-text {
    color: #86623F;
    font-family: 'Marko One', sans-serif;
    color: #85623F;
    margin-bottom: 2rem;
    font-size: 48px;
  }
  .col {
    background-color: #A6D554;
    margin-right: 1rem;
  }
  .incomplete {
    background-color: grey;
  }
</style>


<div class="section" id="vue-target" v-cloak>
  <h1 class="title">Postlandia [[=display_full_name]]</h1>
  <!-- display only if add_status is true-->
  <div v-if="add_mode" class="container block">
    <div class="form">
      <div class="field">
        <div class="control">
          <textarea class="textarea" v-model="add_post_content" placeholder="Enter new post here" type="text" class="input"></textarea>
        </div>
      </div>
      <div class="field">
        <div class="control">
          <input type="submit" @click="add_post" value="Post" class="button is-primary">
          <input type="submit" @click="set_add_status(false)" value="Cancel" class="button is-warning">
        </div>
      </div>
    </div>
  </div>

  <div class="container block">
    <button @click="set_add_status(true)" class="button is-primary" style="margin-bottom: 1rem;">
      <i class="fa fa-plus fa-fw"></i>
    </button>
    <!-- <div v-for="r in rows_c" class="box" style="background-color: #F5F5F5;">
      <div v-for="fn in ['post_content','full_name']">
        <div class="control">
          <input type="text" class="input" v-model="r[fn]"
            :class="{
              'is-static': r._state[fn] === 'clean',
            }"
            :readonly="r._state[fn] === 'clean'"
          />
        </div>
      </div>
      <span @mouseenter="show_likers(true)" @mouseleave="show_likers(false)">
        <span style="margin-right: 1rem;" class="icon is-small" @click="toggle_like(r._idx, true)"
          :class="{
            'outline-icon': r.liked === true,
          }">
          <i class="fa fa-2x fa-thumbs-up" aria-hidden="true"></i>
        </span>
        <span class="icon is-small" @click="toggle_like(r._idx, false)"
          :class="{
            'outline-icon': r.liked === false,
          }">
          <i class="fa fa-2x fa-thumbs-down" aria-hidden="true"></i>
        </span>
      </span>
      <span v-if="likes_mode">disliked by [[=display_full_name]]</span>
      <button :class="{
          hidden: !r.owned
        }"
        @click="delete_contact(r._idx)" class="button is-danger" style="float:right;">
        <i class="fa fa-trash"></i></button>
    </div> -->
    <div v-for="r in rows" class="box" style="background-color: #F5F5F5;">
      <p>{{r.task_title}}</p>
    </div>
  </div>
</div>

<!-- Removed highlights -->
[[block page_scripts]]
<!-- Loads the index-specific js for Vue -->
<script>
  let load_contacts_url = "[[=XML(load_contacts_url)]]";
  let load_tasks_url = "[[=XML(load_tasks_url)]]";
  let add_post_url = "[[=XML(add_post_url)]]";
  let delete_contact_url = "[[=XML(delete_contact_url)]]";
  let edit_contact_url = "[[=XML(edit_contact_url)]]";

  let toggle_like_url = "[[=XML(toggle_like_url)]]";

  let user_email = "[[=XML(user_email)]]"
  let display_full_name = "[[=XML(display_full_name)]]";
</script>
<script src="js/index.js"></script>
[[end]]
